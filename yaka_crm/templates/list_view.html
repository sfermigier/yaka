{% extends "base.html" %}

{% block main %}

<script>
$(document).ready(function() {
  $('#contacts').dataTable( {
    "aoColumns": [
      { "asSorting": [] },
      {% for col in range(1, table.column_names|count) %}
      { "asSorting": [ "asc", "desc" ] },
      {% endfor %}
    ]
  });
} );
</script>

<form>
<table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="contacts">
  <thead>
  <tr>
    <th width="2%"></th>
    <th width="20%">{{ table.column_names[0] }}</th>
    {% for name in table.column_names[1:] %}
    <th width="20%">{{ name }}</th>
    {% endfor %}
  </tr>
  </thead>
  <tbody>
  {% for line in table %}
    <tr>
      <td><input type="checkbox"></td>
      <td><a href="/contacts/{{line.uid}}">{{ line[0] }}</a></td>
      {% for cell in line[1:] %}
      <td>{{ cell }}</td>
      {% endfor %}
    </tr>
  {% endfor %}
  </tbody>
  <tfoot>
  <tr>
    <th></th>
    <th>{{ table.column_names[0] }}</th>
    {% for name in table.column_names[1:] %}
      <th>{{ name }}</th>
    {% endfor %}
  </tr>
  </tfoot>
</table>
</form>
{%  endblock %}